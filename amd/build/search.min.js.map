{"version":3,"sources":["../src/search.js"],"names":["define","$","CustomEvents","SELECTORS","SEARCH","SEARCH_MODAL","SEARCH_INPUT","registerEventListeners","root","events","activate","on","e","data","searchModal","find","modal","focus","originalEvent","preventDefault","init","attr"],"mappings":"AAuBAA,OAAM,0BACN,CACI,QADJ,CAEI,gCAFJ,CADM,CAKN,SACIC,CADJ,CAEIC,CAFJ,CAGE,IAEMC,CAAAA,CAAS,CAAG,CACZC,MAAM,CAAE,+BADI,CAEZC,YAAY,CAAE,gCAFF,CAGZC,YAAY,CAAE,gCAHF,CAFlB,CAaMC,CAAsB,CAAG,SAASC,CAAT,CAAe,CACxCN,CAAY,CAACF,MAAb,CAAoBQ,CAApB,CAA0B,CACtBN,CAAY,CAACO,MAAb,CAAoBC,QADE,CAA1B,EAGAF,CAAI,CAACG,EAAL,CAAQT,CAAY,CAACO,MAAb,CAAoBC,QAA5B,CAAsCP,CAAS,CAACC,MAAhD,CAAwD,SAASQ,CAAT,CAAYC,CAAZ,CAAkB,CACtE,GAAIC,CAAAA,CAAW,CAAGN,CAAI,CAACO,IAAL,CAAUZ,CAAS,CAACE,YAApB,CAAlB,CACAS,CAAW,CAACE,KAAZ,CAAkB,MAAlB,EACAf,CAAC,CAACa,CAAD,CAAD,CAAeH,EAAf,CAAkB,gBAAlB,CAAoC,UAAY,CAC5CV,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAaZ,CAAS,CAACG,YAAvB,EAAqCW,KAArC,EACH,CAFD,EAGAJ,CAAI,CAACK,aAAL,CAAmBC,cAAnB,EACH,CAPD,CAQH,CAzBH,CAyCE,MAAO,CACHC,IAAI,CAVG,QAAPA,CAAAA,IAAO,CAASZ,CAAT,CAAe,CACtBA,CAAI,CAAGP,CAAC,CAACO,CAAD,CAAR,CAEA,GAAI,CAACA,CAAI,CAACa,IAAL,CAAU,kBAAV,CAAL,CAAoC,CAChCd,CAAsB,CAACC,CAAD,CAAtB,CACAA,CAAI,CAACa,IAAL,CAAU,kBAAV,IACH,CACJ,CAEM,CAGV,CApDK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Arup Search\n *\n * @package    theme_nova\n * @copyright  2019 Bas Brands <bas@sonsbeekmedia.nl>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(\n[\n    'jquery',\n    'core/custom_interaction_events'\n],\nfunction(\n    $,\n    CustomEvents\n) {\n\n    var SELECTORS = {\n        SEARCH: '[data-action=\"show-search\"]',\n        SEARCH_MODAL: '[data-region=\"search-modal\"]',\n        SEARCH_INPUT: '[data-region=\"search-input\"]'\n    };\n\n    /**\n     * Listen to, and handle events for the arupboost theme\n     *\n     * @param {Object} root The event nodes container element.\n     */\n    var registerEventListeners = function(root) {\n        CustomEvents.define(root, [\n            CustomEvents.events.activate\n        ]);\n        root.on(CustomEvents.events.activate, SELECTORS.SEARCH, function(e, data) {\n            var searchModal = root.find(SELECTORS.SEARCH_MODAL);\n            searchModal.modal('show');\n            $(searchModal).on('shown.bs.modal', function () {\n                $(this).find(SELECTORS.SEARCH_INPUT).focus();\n            });\n            data.originalEvent.preventDefault();\n        });\n    };\n\n    /**\n     * Intialise the search modal.\n     *\n     * @param {object} root The root element containing the timezone modal.\n     */\n    var init = function(root) {\n        root = $(root);\n\n        if (!root.attr('data-init-search')) {\n            registerEventListeners(root);\n            root.attr('data-init-search', true);\n        }\n    };\n\n    return {\n        init: init\n    };\n});"],"file":"search.min.js"}